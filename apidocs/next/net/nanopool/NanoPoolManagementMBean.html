<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_19) on Mon Oct 12 19:59:53 CEST 2009 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
NanoPoolManagementMBean (nanopool 1.0.0 API)
</TITLE>

<META NAME="keywords" CONTENT="net.nanopool.NanoPoolManagementMBean interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="NanoPoolManagementMBean (nanopool 1.0.0 API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NanoPoolManagementMBean.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../net/nanopool/NanoPoolDataSource.html" title="class in net.nanopool"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../net/nanopool/NanoPoolRuntimeException.html" title="class in net.nanopool"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?net/nanopool/NanoPoolManagementMBean.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NanoPoolManagementMBean.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.nanopool</FONT>
<BR>
Interface NanoPoolManagementMBean</H2>
<HR>
<DL>
<DT><PRE>public interface <B>NanoPoolManagementMBean</B></DL>
</PRE>

<P>
The <A HREF="../../net/nanopool/NanoPoolManagementMBean.html" title="interface in net.nanopool"><CODE>NanoPoolManagementMBean</CODE></A> is the JMX management interface for the
 <A HREF="../../net/nanopool/NanoPoolDataSource.html" title="class in net.nanopool"><CODE>NanoPoolDataSource</CODE></A>. Objects that implement this interface can be
 obtained from the <A HREF="../../net/nanopool/ManagedNanoPool.html#getMXBean()"><CODE>ManagedNanoPool.getMXBean()</CODE></A> method, which the
 NanoPoolDataSource implements.
 <p>
 Implementors of this interface are expected to be thread-safe.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>cvh</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#dumpConnectionOwningThreadsStackTraces()">dumpConnectionOwningThreadsStackTraces</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Produce a stack-dump of all threads that currently holds a connection,
 and write it to System.err.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getConnectionsCreated()">getConnectionsCreated</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of physical connections that has been created by this
 pool since it was created, or since the last reset.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getConnectionsLeased()">getConnectionsLeased</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the total number of connections that has been leased by this pool
 since it was created or since last reset.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getConnectionsReuseRate()">getConnectionsReuseRate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the connection reuse rate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getConnectionTimeToLive()">getConnectionTimeToLive</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the maximum permitted age, in milliseconds, that connections are
 allowed to live in this pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getContentionHandler()">getContentionHandler</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the String representation of the <A HREF="../../net/nanopool/contention/ContentionHandler.html" title="interface in net.nanopool.contention"><CODE>ContentionHandler</CODE></A> that has
 been configured for this pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getContentionHandlerClassName()">getContentionHandlerClassName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the name of the class that the configured <A HREF="../../net/nanopool/contention/ContentionHandler.html" title="interface in net.nanopool.contention"><CODE>ContentionHandler</CODE></A>
 is an instance of.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getCurrentAvailableConnectionsCount()">getCurrentAvailableConnectionsCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of connections in this pool that are not leased.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getCurrentLeasedConnectionsCount()">getCurrentLeasedConnectionsCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of connections in this pool that are currently leased.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getPoolSize()">getPoolSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the size of the pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getSourceConnection()">getSourceConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the string representation of the concrete
 <CODE>ConnectionPoolDataSource</CODE> implementation that is used as the source
 of physical connections in this pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#getSourceConnectionClassName()">getSourceConnectionClassName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the <CODE>Class.getName()</CODE> of the concrete
 <CODE>ConnectionPoolDataSource</CODE> implementation that is used as the source
 of physical connections in this pool</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#interruptConnection(int)">interruptConnection</A></B>(int&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Call <CODE>Thread.interrupt()</CODE> on the thread that is currently leasing
 the connection by the given id, if any.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#isShutDown()">isShutDown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine whether the pool has been or is shutting down.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#killConnection(int)">killConnection</A></B>(int&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Call <CODE>Thread.stop()</CODE> on the thread that is currently leasing the
 connection by the given id, if any.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#listConnectionOwningThreadsStackTraces()">listConnectionOwningThreadsStackTraces</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Produce a stack-dump of all threads that currently holds a connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#resetCounters()">resetCounters</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reset the connections created and connections leased counters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#resizePool(int)">resizePool</A></B>(int&nbsp;newSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resize the pool to make it smaller or larger.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#shutDown()">shutDown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shut the pool down.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getCurrentAvailableConnectionsCount()"><!-- --></A><H3>
getCurrentAvailableConnectionsCount</H3>
<PRE>
int <B>getCurrentAvailableConnectionsCount</B>()</PRE>
<DL>
<DD>Get the number of connections in this pool that are not leased. The
 connections are not necessarily open, they are just not reserved by anyone
 at the moment. Note that this is an estimate and the actual number may
 change while we are counting. Fetching this property can be expected to
 have an O(N) time complexity on the size of the pool. The number of
 available connections on a pool that has been shut down is zero.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The estimated count of the currently available connections.</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentLeasedConnectionsCount()"><!-- --></A><H3>
getCurrentLeasedConnectionsCount</H3>
<PRE>
int <B>getCurrentLeasedConnectionsCount</B>()</PRE>
<DL>
<DD>Get the number of connections in this pool that are currently leased.
 Leased connections are the ones that are in use in the application.
 When a leased connection is "closed" in the application code, it will
 return to the pool and become available for lease again by other threads,
 or indeed the same thread. Fetching this property can be expected to have
 and O(N) time complexity on the size of the pool. The number of leased
 connections in a pool that has been shut down is
 <em>probabilistically</em> zero, that is, this method may return zero as
 soon as the shutdown sequence has been initiated - even if the shutdown
 has yet to complete and the pool technically still have connections that
 are leased out.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The estimated count of the currently leased out connections.</DL>
</DD>
</DL>
<HR>

<A NAME="getPoolSize()"><!-- --></A><H3>
getPoolSize</H3>
<PRE>
int <B>getPoolSize</B>()</PRE>
<DL>
<DD>Get the size of the pool. The size is the maximum number of connections
 that can be leased out at any time in the pools current configuration.
 This property can be expected to operate with an O(1) time complexity.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The size of the connection pool.</DL>
</DD>
</DL>
<HR>

<A NAME="getConnectionTimeToLive()"><!-- --></A><H3>
getConnectionTimeToLive</H3>
<PRE>
long <B>getConnectionTimeToLive</B>()</PRE>
<DL>
<DD>Get the maximum permitted age, in milliseconds, that connections are
 allowed to live in this pool. This value never changes for a pool.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The time-to-live value for this pool, in milliseconds.</DL>
</DD>
</DL>
<HR>

<A NAME="getContentionHandlerClassName()"><!-- --></A><H3>
getContentionHandlerClassName</H3>
<PRE>
java.lang.String <B>getContentionHandlerClassName</B>()</PRE>
<DL>
<DD>Get the name of the class that the configured <A HREF="../../net/nanopool/contention/ContentionHandler.html" title="interface in net.nanopool.contention"><CODE>ContentionHandler</CODE></A>
 is an instance of.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The class-name of the <A HREF="../../net/nanopool/contention/ContentionHandler.html" title="interface in net.nanopool.contention"><CODE>ContentionHandler</CODE></A> configured for
 this pool.<DT><B>See Also:</B><DD><CODE>Class.getName()</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getContentionHandler()"><!-- --></A><H3>
getContentionHandler</H3>
<PRE>
java.lang.String <B>getContentionHandler</B>()</PRE>
<DL>
<DD>Get the String representation of the <A HREF="../../net/nanopool/contention/ContentionHandler.html" title="interface in net.nanopool.contention"><CODE>ContentionHandler</CODE></A> that has
 been configured for this pool. This is the result of calling
 <code>toString()</code> on the ContentionHandler.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The String representation of this pools ContentionHandler.</DL>
</DD>
</DL>
<HR>

<A NAME="isShutDown()"><!-- --></A><H3>
isShutDown</H3>
<PRE>
boolean <B>isShutDown</B>()</PRE>
<DL>
<DD>Determine whether the pool has been or is shutting down. Note that this
 method will return true s soon as the shutdown sequence has been
 initiated, and so will return true for pools where the shutdown sequence
 has yet to complete.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>True if the pool can no longer be used due to having been shut
 down.</DL>
</DD>
</DL>
<HR>

<A NAME="getSourceConnectionClassName()"><!-- --></A><H3>
getSourceConnectionClassName</H3>
<PRE>
java.lang.String <B>getSourceConnectionClassName</B>()</PRE>
<DL>
<DD>Get the <CODE>Class.getName()</CODE> of the concrete
 <CODE>ConnectionPoolDataSource</CODE> implementation that is used as the source
 of physical connections in this pool
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A raw-form class name.</DL>
</DD>
</DL>
<HR>

<A NAME="getSourceConnection()"><!-- --></A><H3>
getSourceConnection</H3>
<PRE>
java.lang.String <B>getSourceConnection</B>()</PRE>
<DL>
<DD>Get the string representation of the concrete
 <CODE>ConnectionPoolDataSource</CODE> implementation that is used as the source
 of physical connections in this pool. This value is obtained by calling
 <code>toString</code> on the ConnectionPoolDataSouce.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The result of calling <code>toString</code> on this pools
 ConnectionPoolDataSouce.</DL>
</DD>
</DL>
<HR>

<A NAME="getConnectionsCreated()"><!-- --></A><H3>
getConnectionsCreated</H3>
<PRE>
int <B>getConnectionsCreated</B>()</PRE>
<DL>
<DD>Get the number of physical connections that has been created by this
 pool since it was created, or since the last reset.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Zero or a positive integer, subject to overflow.</DL>
</DD>
</DL>
<HR>

<A NAME="getConnectionsLeased()"><!-- --></A><H3>
getConnectionsLeased</H3>
<PRE>
int <B>getConnectionsLeased</B>()</PRE>
<DL>
<DD>Get the total number of connections that has been leased by this pool
 since it was created or since last reset.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Zero or a positive integer, subject to overflow.</DL>
</DD>
</DL>
<HR>

<A NAME="getConnectionsReuseRate()"><!-- --></A><H3>
getConnectionsReuseRate</H3>
<PRE>
double <B>getConnectionsReuseRate</B>()</PRE>
<DL>
<DD>Get the connection reuse rate. This number specifies, as a decimal number,
 the percentage of connection leases that does not create a new physical
 connection. This is defined as 1 &minus; created &divide; leased
 connections. This value is calculated atomically.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A decimal number between zero and one.</DL>
</DD>
</DL>
<HR>

<A NAME="shutDown()"><!-- --></A><H3>
shutDown</H3>
<PRE>
java.lang.String <B>shutDown</B>()</PRE>
<DL>
<DD>Shut the pool down. Once this method returns, the pool will have finished
 its shutdown procedure. This means that it will no longer be possible for
 other threads to get connections from the pool, however, connections that
 are already leased will continue to function normally until they are
 closed.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>An affirmative message or an error message.</DL>
</DD>
</DL>
<HR>

<A NAME="resetCounters()"><!-- --></A><H3>
resetCounters</H3>
<PRE>
void <B>resetCounters</B>()</PRE>
<DL>
<DD>Reset the connections created and connections leased counters.
 Note that the counters may change while the resetting is taking place,
 so they are not guaranteed to be zero after this method returns.
 <p>
 Resetting involves traversal, so the time it takes to perform the reset
 is O(n) on the size of the pool.
 <p>
 This is a blocking method - only one counter reset can take place at a
 time.
 <p>
 This method is <em>not</em> atomic and is <em>not</em> isolated, so other
 threads that simultaneously tries to read the counters may experience
 them "flicker" - that is, jumping up and down. This is the consequence of
 design decisions that prioritizes pool performance over the accuracy of
 these counters.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="listConnectionOwningThreadsStackTraces()"><!-- --></A><H3>
listConnectionOwningThreadsStackTraces</H3>
<PRE>
java.lang.String <B>listConnectionOwningThreadsStackTraces</B>()</PRE>
<DL>
<DD>Produce a stack-dump of all threads that currently holds a connection.
 This is only intended for debugging purpose and the actual format is
 unspecified.
 <p>
 Note that the dump produced may be out-dated by the time this method
 returns.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Stack-dumps for all threads that currently holds a connection.
 Never null, not even if the pool has been shut down.</DL>
</DD>
</DL>
<HR>

<A NAME="dumpConnectionOwningThreadsStackTraces()"><!-- --></A><H3>
dumpConnectionOwningThreadsStackTraces</H3>
<PRE>
void <B>dumpConnectionOwningThreadsStackTraces</B>()</PRE>
<DL>
<DD>Produce a stack-dump of all threads that currently holds a connection,
 and write it to System.err. The format is the same as for
 <A HREF="../../net/nanopool/NanoPoolManagementMBean.html#listConnectionOwningThreadsStackTraces()"><CODE>listConnectionOwningThreadsStackTraces()</CODE></A>
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../net/nanopool/NanoPoolManagementMBean.html#listConnectionOwningThreadsStackTraces()"><CODE>listConnectionOwningThreadsStackTraces()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="resizePool(int)"><!-- --></A><H3>
resizePool</H3>
<PRE>
void <B>resizePool</B>(int&nbsp;newSize)</PRE>
<DL>
<DD>Resize the pool to make it smaller or larger. This operation is atomic
 with respect to visibility of the resize to other threads. Resizes are
 serialized, guaranteed by a resize lock, so only one can happen at a
 time. A resize never impedes threads that are taking connections from,
 or releasing connections to, the pool.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newSize</CODE> - The new size of the pool. Must be equal to or greater than
 one.</DL>
</DD>
</DL>
<HR>

<A NAME="interruptConnection(int)"><!-- --></A><H3>
interruptConnection</H3>
<PRE>
void <B>interruptConnection</B>(int&nbsp;id)</PRE>
<DL>
<DD>Call <CODE>Thread.interrupt()</CODE> on the thread that is currently leasing
 the connection by the given id, if any. The connection ids can be fetched
 from the
 <A HREF="../../net/nanopool/NanoPoolManagementMBean.html#listConnectionOwningThreadsStackTraces()"><CODE>listConnectionOwningThreadsStackTraces()</CODE></A>
 and
 <A HREF="../../net/nanopool/NanoPoolManagementMBean.html#dumpConnectionOwningThreadsStackTraces()"><CODE>dumpConnectionOwningThreadsStackTraces()</CODE></A>
 methods.
 <p>
 Note that this method should only be used for debugging or in desperate
 situations since it is inherently dangerous. Resizing may cause
 connections to change ids, and a connection may have changed owner in
 between making a thread-dump to find the connection id, and calling this
 operation.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - The id of the connection whose owning thread should be
 interrupted.</DL>
</DD>
</DL>
<HR>

<A NAME="killConnection(int)"><!-- --></A><H3>
killConnection</H3>
<PRE>
void <B>killConnection</B>(int&nbsp;id)</PRE>
<DL>
<DD>Call <CODE>Thread.stop()</CODE> on the thread that is currently leasing the
 connection by the given id, if any. The connection ids can be fetched
 from the
 <A HREF="../../net/nanopool/NanoPoolManagementMBean.html#listConnectionOwningThreadsStackTraces()"><CODE>listConnectionOwningThreadsStackTraces()</CODE></A>
 and
 <A HREF="../../net/nanopool/NanoPoolManagementMBean.html#dumpConnectionOwningThreadsStackTraces()"><CODE>dumpConnectionOwningThreadsStackTraces()</CODE></A>
 methods.
 <p>
 Note that this method should only be used for debugging or in desperate
 situations since it is inherently dangerous. Resizing may cause
 connections to change ids, and a connection may have changed owner in
 between making a thread-dump to find the connection id, and calling this
 operation.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - The id of the connection whose owning thread should be
 stopped.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NanoPoolManagementMBean.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../net/nanopool/NanoPoolDataSource.html" title="class in net.nanopool"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../net/nanopool/NanoPoolRuntimeException.html" title="class in net.nanopool"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?net/nanopool/NanoPoolManagementMBean.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NanoPoolManagementMBean.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2009. All Rights Reserved.
</BODY>
</HTML>
