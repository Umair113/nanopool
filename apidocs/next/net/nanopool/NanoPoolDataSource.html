<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_19) on Mon Oct 12 19:59:53 CEST 2009 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
NanoPoolDataSource (nanopool 1.0.0 API)
</TITLE>

<META NAME="keywords" CONTENT="net.nanopool.NanoPoolDataSource class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="NanoPoolDataSource (nanopool 1.0.0 API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NanoPoolDataSource.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../net/nanopool/ManagedNanoPool.html" title="interface in net.nanopool"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../net/nanopool/NanoPoolManagementMBean.html" title="interface in net.nanopool"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?net/nanopool/NanoPoolDataSource.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NanoPoolDataSource.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.nanopool</FONT>
<BR>
Class NanoPoolDataSource</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><A HREF="../../net/nanopool/AbstractDataSource.html" title="class in net.nanopool">net.nanopool.AbstractDataSource</A>
      <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>net.nanopool.NanoPoolDataSource</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>javax.sql.DataSource, <A HREF="../../net/nanopool/CloseableDataSource.html" title="interface in net.nanopool">CloseableDataSource</A>, <A HREF="../../net/nanopool/ManagedNanoPool.html" title="interface in net.nanopool">ManagedNanoPool</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public final class <B>NanoPoolDataSource</B><DT>extends <A HREF="../../net/nanopool/AbstractDataSource.html" title="class in net.nanopool">AbstractDataSource</A><DT>implements <A HREF="../../net/nanopool/ManagedNanoPool.html" title="interface in net.nanopool">ManagedNanoPool</A></DL>
</PRE>

<P>
NanoPool is a lightweight and fast JDBC2 connection pool.
 <p>
 It is designed to scale well to many concurrent threads with a low overhead.
 The implementation does a sequential search in an array of  connections from
 a random starting point, to find a possibly available connection. Then it
 does a CAS on a marker of that connection to mark it as reserved and returns
 that connection if the CAS succeeds. But if the CAS fails, then it means
 that some other thread got the connection first, and so we continue our
 sequential search, wrapping around the pool if we got to the end. While a
 sequential search may not sound very fast, it actually usually is. It ends
 up that this implementation, given a reasonably sized pool, is faster than
 maintaining a complex data structure that may theoretically operate with a
 less-than O(N) time complexity.
 <p>
 NanoPool uses no internal threads for maintenance. This makes it lighter in
 resource consumption, and life-cycling easier, but it also has some negative
 consequences. For instance, the only threads that can do pool maintenance,
 such as renewing aging connections, are the threads that enter the pool to
 do either acquire or release connections. This will likely have an effect on
 the maximum and standard deviation of latency, compared to other pools.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>vest</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#NanoPoolDataSource(javax.sql.ConnectionPoolDataSource, int, long)">NanoPoolDataSource</A></B>(javax.sql.ConnectionPoolDataSource&nbsp;source,
                   int&nbsp;poolSize,
                   long&nbsp;timeToLive)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new <A HREF="../../net/nanopool/NanoPoolDataSource.html" title="class in net.nanopool"><CODE>NanoPoolDataSource</CODE></A> based on the
 specified <CODE>ConnectionPoolDataSource</CODE>, and with the specified pool
 size and time-to-live.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#NanoPoolDataSource(javax.sql.ConnectionPoolDataSource, net.nanopool.Settings)">NanoPoolDataSource</A></B>(javax.sql.ConnectionPoolDataSource&nbsp;source,
                   <A HREF="../../net/nanopool/Settings.html" title="class in net.nanopool">Settings</A>&nbsp;settings)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new <A HREF="../../net/nanopool/NanoPoolDataSource.html" title="class in net.nanopool"><CODE>NanoPoolDataSource</CODE></A> based on the specified
 <CODE>ConnectionPoolDataSource</CODE> and <A HREF="../../net/nanopool/Settings.html" title="class in net.nanopool"><CODE>Settings</CODE></A> instance.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.sql.SQLException&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initiate a close sequence on the pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#getConnection()">getConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lease a new <CODE>Connection</CODE> from the pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#getConnection(java.lang.String, java.lang.String)">getConnection</A></B>(java.lang.String&nbsp;username,
              java.lang.String&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will always throw UnsupportedOperationException.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#getLoginTimeout()">getLoginTimeout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Always throws UnsupportedOperationException.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.io.PrintWriter</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#getLogWriter()">getLogWriter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Always throws UnsupportedOperationException.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../net/nanopool/NanoPoolManagementMBean.html" title="interface in net.nanopool">NanoPoolManagementMBean</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#getMXBean()">getMXBean</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the <A HREF="../../net/nanopool/NanoPoolManagementMBean.html" title="interface in net.nanopool"><CODE>NanoPoolManagementMBean</CODE></A> instance for this
 NanoPoolDataSource.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#setLoginTimeout(int)">setLoginTimeout</A></B>(int&nbsp;seconds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Always throws UnsupportedOperationException.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../net/nanopool/NanoPoolDataSource.html#setLogWriter(java.io.PrintWriter)">setLogWriter</A></B>(java.io.PrintWriter&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Always throws UnsupportedOperationException.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_net.nanopool.AbstractDataSource"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class net.nanopool.<A HREF="../../net/nanopool/AbstractDataSource.html" title="class in net.nanopool">AbstractDataSource</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../net/nanopool/AbstractDataSource.html#isWrapperFor(java.lang.Class)">isWrapperFor</A>, <A HREF="../../net/nanopool/AbstractDataSource.html#unwrap(java.lang.Class)">unwrap</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="NanoPoolDataSource(javax.sql.ConnectionPoolDataSource, int, long)"><!-- --></A><H3>
NanoPoolDataSource</H3>
<PRE>
public <B>NanoPoolDataSource</B>(javax.sql.ConnectionPoolDataSource&nbsp;source,
                          int&nbsp;poolSize,
                          long&nbsp;timeToLive)</PRE>
<DL>
<DD>Create a new <A HREF="../../net/nanopool/NanoPoolDataSource.html" title="class in net.nanopool"><CODE>NanoPoolDataSource</CODE></A> based on the
 specified <CODE>ConnectionPoolDataSource</CODE>, and with the specified pool
 size and time-to-live.
 
 The pool will, apart from the pool size and time-to-live, use default
 values for all configurable parameters. Merely constructing a pool does
 not open any connections. The connections themselves are created lazily
 when they are requested.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>source</CODE> - the <CODE>ConnectionPoolDataSource</CODE> instance that will provide
          the raw connections to this pool. You usually get these instances
          from your JDBC driver. If your driver of choice does not have an
          implementation for this interface, then you either have to write
          it yourself or give up and cry in a corner. Thankfully, most
          modern JDBC drivers support this feature of the JDBC
          specification.<DD><CODE>poolSize</CODE> - The total number of connections this pool can contain. The size
          of the pool cannot be changed once set.<DD><CODE>timeToLive</CODE> - The maximum allowed age of connections, specified in
          milliseconds. A connection will be closed if it return to the
          pool older than this, and connections will be reopened if they
          are older than this when acquired. A connection that grows older
          than this while in use, will not be closed from under you.<DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
</DL>
<HR>

<A NAME="NanoPoolDataSource(javax.sql.ConnectionPoolDataSource, net.nanopool.Settings)"><!-- --></A><H3>
NanoPoolDataSource</H3>
<PRE>
public <B>NanoPoolDataSource</B>(javax.sql.ConnectionPoolDataSource&nbsp;source,
                          <A HREF="../../net/nanopool/Settings.html" title="class in net.nanopool">Settings</A>&nbsp;settings)</PRE>
<DL>
<DD>Create a new <A HREF="../../net/nanopool/NanoPoolDataSource.html" title="class in net.nanopool"><CODE>NanoPoolDataSource</CODE></A> based on the specified
 <CODE>ConnectionPoolDataSource</CODE> and <A HREF="../../net/nanopool/Settings.html" title="class in net.nanopool"><CODE>Settings</CODE></A> instance.
 
 The pool will take a snapshot of the Settings config parsed to this
 constructor. This means that it is safe to share the same Settings
 instance among multiple pools, and it is safe to mutate the Settings
 instance - the changes will not affect any previously created pools.
 
 Merely constructing a pool does not open any connections. The connections
 themselves are created lazily when they are requested.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>source</CODE> - the <CODE>ConnectionPoolDataSource</CODE> instance that will provide
          the raw connections to this pool. You usually get these instances
          from your JDBC driver. If your driver of choice does not have an
          implementation for this interface, then you either have to write
          it yourself or give up and cry in a corner. Thankfully, most
          modern JDBC drivers support this feature of the JDBC
          specification.<DD><CODE>settings</CODE> - a <A HREF="../../net/nanopool/Settings.html" title="class in net.nanopool"><CODE>Settings</CODE></A> instance that fully specifies how this
          NanoPoolDataSource should be configured. A snapshot of the
          configuration config will be taken, so the Settings instance can
          be freely modified afterwards and even concurrently, without
          affecting this new NanoPoolDataSource instance.<DT><B>Since:</B></DT>
  <DD>1.0</DD>
<DT><B>See Also:</B><DD><A HREF="../../net/nanopool/Settings.html" title="class in net.nanopool"><CODE>Settings</CODE></A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getConnection()"><!-- --></A><H3>
getConnection</H3>
<PRE>
public java.sql.Connection <B>getConnection</B>()
                                  throws java.sql.SQLException</PRE>
<DL>
<DD>Lease a new <CODE>Connection</CODE> from the pool. This method will attempt to
 reserve one of the connections that is available from the pool. If the
 pool have not been completely saturated with connections, then a new
 connection will be created at an available slot and immediately leased. If
 there are no connections available to lease, then we will sit down around
 the camp fire and wait until one <em>becomes</em> available, and the exact
 procedure of how this happens is dictated by this pools configured
 <A HREF="../../net/nanopool/contention/ContentionHandler.html" title="interface in net.nanopool.contention"><CODE>ContentionHandler</CODE></A> (which does a <CODE>Thread.yield()</CODE> by
 default).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getConnection</CODE> in interface <CODE>javax.sql.DataSource</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>A new/old <CODE>Connection</CODE> from the pool. This object is
         guaranteed to only be available to a single thread
         <em>provided</em> that you yourself do not share it amongst more
         than one thread (and I will spank you if you do -- hard)
         <em>and</em> you are not keeping connection objects around after
         you close them. And be sure that you close your connection when
         you're done with it - it will not return to the pool if you forget
         this!
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - Thrown if we tried to establish a sparkly-new connection with
           the configured <CODE>ConnectionPoolDataSource</CODE> and it
           <em>fails!</em><DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public java.util.List&lt;java.sql.SQLException&gt; <B>close</B>()</PRE>
<DL>
<DD>Initiate a close sequence on the pool. This method will return before the
 pool has completely close, however the pool <strong>will</strong> be
 unable to grant any new connections. Calling
 <A HREF="../../net/nanopool/NanoPoolDataSource.html#getConnection()"><CODE>getConnection()</CODE></A> on a closed pool will result in
 an <CODE>IllegalStateException</CODE>. Calling
 <A HREF="../../net/nanopool/NanoPoolDataSource.html#close()"><CODE>close()</CODE></A> on a pool that has already
 been shut down, has no effect. Connections that are active and in use when
 the pool is shut down will <strong>not</strong> be forcibly killed.
 Instead, all active connections will be allowed to operate for as long as
 they please, until they are closed normally or closed forcibly by the
 database or similar external factors. Any connections that are not in use,
 will be marked unavailable and closed. This behavior means that it is
 (relatively) safe to shut down a pool that is in use. Any
 <CODE>SQLException</CODE>s encountered during the shut down procedure are
 aggregated in a <CODE>List</CODE>, and that list is returned as the result of
 this method, for perusal by client code.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../net/nanopool/CloseableDataSource.html#close()">close</A></CODE> in interface <CODE><A HREF="../../net/nanopool/CloseableDataSource.html" title="interface in net.nanopool">CloseableDataSource</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>A <CODE>List</CODE> of all <CODE>SQLException</CODE>s caught when shutting
         the pool down.<DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getConnection(java.lang.String, java.lang.String)"><!-- --></A><H3>
getConnection</H3>
<PRE>
public java.sql.Connection <B>getConnection</B>(java.lang.String&nbsp;username,
                                         java.lang.String&nbsp;password)
                                  throws java.sql.SQLException</PRE>
<DL>
<DD>This method will always throw UnsupportedOperationException.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getConnection</CODE> in interface <CODE>javax.sql.DataSource</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../net/nanopool/AbstractDataSource.html#getConnection(java.lang.String, java.lang.String)">getConnection</A></CODE> in class <CODE><A HREF="../../net/nanopool/AbstractDataSource.html" title="class in net.nanopool">AbstractDataSource</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>username</CODE> - not used<DD><CODE>password</CODE> - not used
<DT><B>Returns:</B><DD>never returns
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - never throws SQLException
<DD><CODE>java.lang.UnsupportedOperationException</CODE> - always.<DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMXBean()"><!-- --></A><H3>
getMXBean</H3>
<PRE>
public <A HREF="../../net/nanopool/NanoPoolManagementMBean.html" title="interface in net.nanopool">NanoPoolManagementMBean</A> <B>getMXBean</B>()</PRE>
<DL>
<DD>Get the <A HREF="../../net/nanopool/NanoPoolManagementMBean.html" title="interface in net.nanopool"><CODE>NanoPoolManagementMBean</CODE></A> instance for this
 NanoPoolDataSource.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../net/nanopool/ManagedNanoPool.html#getMXBean()">getMXBean</A></CODE> in interface <CODE><A HREF="../../net/nanopool/ManagedNanoPool.html" title="interface in net.nanopool">ManagedNanoPool</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Always the same instance.<DT><B>Since:</B></DT>
  <DD>1.0</DD>
<DT><B>See Also:</B><DD><A HREF="../../net/nanopool/ManagedNanoPool.html#getMXBean()"><CODE>ManagedNanoPool.getMXBean()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getLogWriter()"><!-- --></A><H3>
getLogWriter</H3>
<PRE>
public java.io.PrintWriter <B>getLogWriter</B>()
                                 throws java.sql.SQLException</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../net/nanopool/AbstractDataSource.html#getLogWriter()">AbstractDataSource</A></CODE></B></DD>
<DD>Always throws UnsupportedOperationException.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getLogWriter</CODE> in interface <CODE>javax.sql.DataSource</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../net/nanopool/AbstractDataSource.html#getLogWriter()">getLogWriter</A></CODE> in class <CODE><A HREF="../../net/nanopool/AbstractDataSource.html" title="class in net.nanopool">AbstractDataSource</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>never.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLoginTimeout()"><!-- --></A><H3>
getLoginTimeout</H3>
<PRE>
public int <B>getLoginTimeout</B>()
                    throws java.sql.SQLException</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../net/nanopool/AbstractDataSource.html#getLoginTimeout()">AbstractDataSource</A></CODE></B></DD>
<DD>Always throws UnsupportedOperationException.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>getLoginTimeout</CODE> in interface <CODE>javax.sql.DataSource</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../net/nanopool/AbstractDataSource.html#getLoginTimeout()">getLoginTimeout</A></CODE> in class <CODE><A HREF="../../net/nanopool/AbstractDataSource.html" title="class in net.nanopool">AbstractDataSource</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>never.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setLogWriter(java.io.PrintWriter)"><!-- --></A><H3>
setLogWriter</H3>
<PRE>
public void <B>setLogWriter</B>(java.io.PrintWriter&nbsp;out)
                  throws java.sql.SQLException</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../net/nanopool/AbstractDataSource.html#setLogWriter(java.io.PrintWriter)">AbstractDataSource</A></CODE></B></DD>
<DD>Always throws UnsupportedOperationException.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>setLogWriter</CODE> in interface <CODE>javax.sql.DataSource</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../net/nanopool/AbstractDataSource.html#setLogWriter(java.io.PrintWriter)">setLogWriter</A></CODE> in class <CODE><A HREF="../../net/nanopool/AbstractDataSource.html" title="class in net.nanopool">AbstractDataSource</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setLoginTimeout(int)"><!-- --></A><H3>
setLoginTimeout</H3>
<PRE>
public void <B>setLoginTimeout</B>(int&nbsp;seconds)
                     throws java.sql.SQLException</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../net/nanopool/AbstractDataSource.html#setLoginTimeout(int)">AbstractDataSource</A></CODE></B></DD>
<DD>Always throws UnsupportedOperationException.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>setLoginTimeout</CODE> in interface <CODE>javax.sql.DataSource</CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../net/nanopool/AbstractDataSource.html#setLoginTimeout(int)">setLoginTimeout</A></CODE> in class <CODE><A HREF="../../net/nanopool/AbstractDataSource.html" title="class in net.nanopool">AbstractDataSource</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NanoPoolDataSource.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../net/nanopool/ManagedNanoPool.html" title="interface in net.nanopool"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../net/nanopool/NanoPoolManagementMBean.html" title="interface in net.nanopool"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?net/nanopool/NanoPoolDataSource.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NanoPoolDataSource.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2009. All Rights Reserved.
</BODY>
</HTML>
